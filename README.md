# Grails run status protocol bug

This repository is a minimum working example of a bug observed in multiple versions of Grails.
This branch reproduces the issue in Grails 4.0.x.
Other branches reproduce the issue in other versions of Grails.

To reproduce the bug, simply run:

        ./grailsw run-app

When the app starts up it will print:

        Grails application running at http://localhost:8443 in environment: development

The `http://` protocol in that URL is incorrect, because per the config in `./application.yml` that port is actually
expecting HTTPS.

The problem is that `GrailsApp.printRunStatus()` determines whether to print `http` or `https` by checking for the
existence of a _system property_ called `server.ssl.key-store`. Thus when this property is configured via
`application.yml` as is being done here, the wrong protocol is printed.

The use case here is being able to develop with a custom server cert (instead of the one generated by the `-https`
option to `run-app`) without having to add custom logic to `build.gradle`.

Also note that the files `./application.yml` and `./custom-keystore.jks` are committed in this repository only for
convenience reproducing the issue. Normally these would tend to be developer-specific git-ignored files.
